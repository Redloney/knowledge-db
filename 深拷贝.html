<body>

</body>

<script>

  let whh = {
    name: '王花花',
    age: 18,
    address: {
      city: '武汉',
      ip: '192.168.1.1',
    },
    a: {
      text: 'a',
      b: {
        text: 'b',
        c: {
          text: 'c',
          d: {
            text: 'd'
          }
        }
      }
    }
  }

  let td = {}

  function getType (target) {
    return Object.prototype.toString.call(target).slice(8, -1)
  }

  function deepClone (target) {
    // 基本数据类型直接返回
    const type = getType(target)
    let clone = null
    if (type === 'Object') {
      clone = {}
    } else if (type === 'Array') {
      clone = []
    } else {
      return target
    }
    for (const key in target) {
      if (Object.hasOwnProperty.call(target, key)) {
        // 给克隆对象写入值
        clone[key] = deepClone(target[key])
      }
    }
    return clone
  }

  td = deepClone(whh)
  whh.address.city = '上海'

  whh.a.b.c.d.text = '12312'

  console.log()
  console.log(td)
  console.log()
  console.log(whh)
  console.log()

  function fn () {
    this.name = "xiaozhang"
    return function fm () {
      this.name = "xiaoli"
    }
  }
  var f1 = new fn()
  console.log(f1.name)


</script>